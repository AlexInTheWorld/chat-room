html
  head
    title FCC Advanced Node and Express
    meta(name='description', content='Home page')
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    link(rel='stylesheet', href='/public/style.css')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js', integrity='sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=', crossorigin='anonymous')
  body
    h2.center Registration Form
    form(action='/register', method='post', onsubmit='disable_button()').center
      div
        label Enter a username:
        input(type='text' name='username' id="username" maxlength="8" required)
      div
        label Enter a password:
        input(type='password' id="password" name='password' required)
      div
        input(type='submit'  value='Register' class="submit-active" id="submit_btn")

    if message
      div.err-msg
        p #{message}
  <script>
  | function disable_button() { 
  |   $("#submit_btn").toggleClass("submit-active");
  |   let btn = document.getElementById("#submit_btn");
  |   let attr_disabled = document.createAttribute("disabled");
  |   btn.setAttributeNode("attr_disabled");
  | }
  </script>